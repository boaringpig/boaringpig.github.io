<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Collaborative Task Manager</title>
		<link rel="stylesheet" href="styles.css" />
		<script src="config.js"></script>
	</head>
	<body>
		<div class="container">
			<!-- Login Screen -->
			<div id="loginScreen" class="login-container">
				<div class="login-form">
					<h1 class="login-title">Task Manager Login</h1>

					<div
						id="errorMessage"
						class="error-message"
						style="display: none"
					></div>
					<div
						id="successMessage"
						class="success-message"
						style="display: none"
					></div>

					<form id="loginForm">
						<div class="form-group">
							<label class="form-label" for="username"
								>Username</label
							>
							<input
								type="text"
								id="username"
								class="form-input"
								required
							/>
						</div>

						<div class="form-group">
							<label class="form-label" for="password"
								>Password</label
							>
							<input
								type="password"
								id="password"
								class="form-input"
								required
							/>
						</div>

						<button type="submit" class="login-btn">Login</button>
					</form>

					<div class="demo-credentials">
						<h3>Demo Accounts</h3>
						<p>
							<strong>Task Creator:</strong><br />
							Username: <strong>creator</strong><br />
							Password: <strong>admin123</strong>
						</p>

						<p>
							<strong>Task Checker:</strong><br />
							Username: <strong>checker</strong><br />
							Password: <strong>user123</strong>
						</p>
					</div>
				</div>
			</div>

			<!-- Main App -->
			<div id="mainApp" style="display: none">
				<div class="header">
					<div class="header-left">
						<h1>Task Manager</h1>
						<p>Collaborative task management</p>
					</div>
					<div class="user-info">
						<div id="userBadge" class="user-badge"></div>
						<button class="logout-btn" onclick="logout()">
							Logout
						</button>
						<div
							id="connectionStatus"
							class="connection-status status-online"
						>
							Connected
						</div>
					</div>
				</div>

				<!-- Creator View -->
				<div id="creatorView" style="display: none">
					<div class="task-section">
						<div class="section-header">
							<h2 class="section-title">Create New Task</h2>
						</div>
						<div class="task-input-container">
							<input
								type="text"
								id="taskInput"
								class="task-input"
								placeholder="Enter a new task..."
								maxlength="200"
							/>
							<button class="add-btn" onclick="addTask()">
								Add Task
							</button>
						</div>
					</div>

					<div class="task-section">
						<div class="section-header">
							<h2 class="section-title">
								Tasks Pending Approval
							</h2>
						</div>
						<div id="pendingTasks" class="task-list"></div>
					</div>

					<div class="task-section">
						<div class="section-header">
							<h2 class="section-title">All Tasks</h2>
						</div>
						<div id="allTasksCreator" class="task-list"></div>
					</div>
				</div>

				<!-- Checker View -->
				<div id="checkerView" style="display: none">
					<div class="task-section">
						<div class="section-header">
							<h2 class="section-title">Tasks to Complete</h2>
						</div>
						<div id="tasksToCheck" class="task-list"></div>
					</div>

					<div class="task-section">
						<div class="section-header">
							<h2 class="section-title">My Completed Tasks</h2>
						</div>
						<div id="completedTasks" class="task-list"></div>
					</div>
				</div>

				<!-- Stats -->
				<div class="stats">
					<div class="stat-item">
						<span id="totalTasks" class="stat-number">0</span>
						<span class="stat-label">Total Tasks</span>
					</div>
					<div class="stat-item">
						<span id="pendingCount" class="stat-number">0</span>
						<span class="stat-label">Pending</span>
					</div>
					<div class="stat-item">
						<span id="completedCount" class="stat-number">0</span>
						<span class="stat-label">Completed</span>
					</div>
				</div>
			</div>
		</div>

		<!-- Firebase Scripts -->
		<script src="https://cdnjs.cloudflare.com/ajax/libs/firebase/9.23.0/firebase-app-compat.min.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/firebase/9.23.0/firebase-firestore-compat.min.js"></script>
		<script src="script.js"></script>
	</body>
</html>
